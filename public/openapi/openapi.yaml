openapi: 3.1.0
info:
  title: "Thirukkural REST API"
  description: "Connecting ancient Tamil philosophy with today’s digital landscape. Explore the ancient wisdom of Thirukkural, a classic Tamil text consisting of 1,330 couplets or Kurals, dealing with various aspects of life and morality."
  version: 1.0.0
servers:
  - url: 'https://tamil-kural-api.vercel.app/api'
    description: "Production server"
  - url: 'http://localhost:3000/api'
    description: "Local development server"
paths:
  /kural/{id}:
    get:
      tags:
        - Kural
      summary: Get a kural by ID
      description: Returns the full details of a Thirukkural couplet by its number (1–1330).
      parameters:
        - name: id
          in: path
          required: true
          description: The Kural number to fetch.
          schema:
            type: integer
            minimum: 1
            maximum: 1330
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Kural'
        404:
          description: Kural not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /daily:
    get:
      tags:
        - Kural
      summary: Get today's kural
      description: Returns the Thirukkural couplet of the day based on the current date.
      responses:
        200:
          description: Daily Kural
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Kural'
  /random:
    get:
      tags:
        - Kural
      summary: Get a random kural
      description: |
        Returns a random Thirukkural.  
        You can optionally filter by **chapter** or **section**.
      parameters:
        - name: chapter
          in: query
          required: false
          description: Filter random kural by chapter (1–133 chapters)
          schema:
            type: integer
            minimum: 1
            maximum: 133
        - name: section
          in: query
          required: false
          description: Filter random kural by section (1–3 sections)
          schema:
            type: integer
            minimum: 1
            maximum: 3

      responses:
        200:
          description: Random Kural
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Kural'
components:
  schemas:
    Kural:
      type: object
      required:
        - chapter
        - kural
        - number
        - section
        - meaning
      properties:
        chapter:
          type: string
          description: Chapter name in Tamil.
        kural:
          type: array
          description: Two lines of the Kural.
          items:
            type: string
        number:
          type: integer
          description: Kural number (1–1330).
        section:
          type: string
          description: Section name in Tamil.
        meaning:
          $ref: '#/components/schemas/Meaning'
    Meaning:
      type: object
      required:
        - ta_mu_va
        - ta_salamon
        - en
      properties:
        ta_mu_va:
          type: string
          description: Tamil meaning by Mu. Va.
        ta_salamon:
          type: string
          description: Tamil meaning by Solomon Pappayya.
      en:
        type: string
        description: English meaning.
    ErrorResponse:
      type: object
      properties:
        error:
          type: string
          example: "Kural with ID:2222 not found"
      required:
        - error
